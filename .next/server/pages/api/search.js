"use strict";(()=>{var e={};e.id=198,e.ids=[198],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},648:e=>{e.exports=import("axios")},298:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.r(a),t.d(a,{config:()=>o,default:()=>p,routeModule:()=>l});var i=t(802),s=t(44),n=t(249),c=t(221),d=e([c]);c=(d.then?(await d)():d)[0];let p=(0,n.l)(c,"default"),o=(0,n.l)(c,"config"),l=new i.PagesAPIRouteModule({definition:{kind:s.x.PAGES_API,page:"/api/search",pathname:"/api/search",bundlePath:"",filename:""},userland:c});r()}catch(e){r(e)}})},221:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.r(a),t.d(a,{default:()=>handler});var i=t(648),s=e([i]);async function handler(e,a){let{query:t="chair",country:r="US"}=e.query;try{let e=await i.default.get("https://wayfair.p.rapidapi.com/products/search",{params:{keyword:t,country:r},headers:{"X-RapidAPI-Key":process.env.RAPIDAPI_KEY,"X-RapidAPI-Host":process.env.RAPIDAPI_HOST}}),s=e.data?.products?.filter(e=>e.rating).sort((e,a)=>a.rating-e.rating).slice(0,10).map(e=>({title:e.name,price:e.price?.formatted,rating:e.rating,image:e.image?.url,link:e.url}))||[];a.status(200).json(s)}catch(e){a.status(200).json([])}}i=(s.then?(await s)():s)[0],r()}catch(e){r(e)}})}};var a=require("../../webpack-api-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),t=a.X(0,[222],()=>__webpack_exec__(298));module.exports=t})();